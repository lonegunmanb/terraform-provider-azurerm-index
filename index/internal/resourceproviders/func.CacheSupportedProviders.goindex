package github.com/hashicorp/terraform-provider-azurerm/internal/resourceproviders
import (
	"context"
	"fmt"
	"strings"
	"sync"

	"github.com/hashicorp/go-azure-helpers/resourcemanager/commonids"
	"github.com/hashicorp/go-azure-sdk/resource-manager/resources/2022-09-01/providers"
)
func CacheSupportedProviders(ctx context.Context, client *providers.ProvidersClient, subscriptionId commonids.SubscriptionId) error {
	// already populated
	if cachedResourceProviders != nil {
		return nil
	}

	if err := populateCache(ctx, client, subscriptionId); err != nil {
		return fmt.Errorf("populating cache: %+v", err)
	}

	return nil
}
