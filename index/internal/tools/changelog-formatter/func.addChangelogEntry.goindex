package github.com/hashicorp/terraform-provider-azurerm/internal/tools/main
import (
	"fmt"
	"os"
	"regexp"
	"slices"
	"strings"
)
func addChangelogEntry(changeLog *changelog, st sectionType, line string) {
	if line == "" {
		return
	}

	switch st {
	case sectionTypeBreakingChanges:
		changeLog.breaking = append(changeLog.breaking, line)
	case sectionTypeFeatures:
		switch {
		case strings.Contains(line, "Action"):
			changeLog.features.actions = append(changeLog.features.actions, line)
		case strings.Contains(line, "Data Source"):
			changeLog.features.dataSources = append(changeLog.features.dataSources, line)
		case strings.Contains(line, "List Resource"):
			changeLog.features.listResources = append(changeLog.features.listResources, line)
		default:
			changeLog.features.general = append(changeLog.features.general, line)
		}
	case sectionTypeEnhancements:
		switch {
		case strings.Contains(line, "provider:"):
			changeLog.enhancements.provider = append(changeLog.enhancements.provider, line)
		case strings.Contains(line, "dependencies"):
			changeLog.enhancements.dependencies = append(changeLog.enhancements.dependencies, line)
		case strings.Contains(line, "Data Source"):
			changeLog.enhancements.dataSources = append(changeLog.enhancements.dataSources, line)
		default:
			changeLog.enhancements.general = append(changeLog.enhancements.general, line)
		}
	case sectionTypeBugs:
		switch {
		case strings.Contains(line, "provider:"):
			changeLog.bugs.provider = append(changeLog.bugs.provider, line)
		case strings.Contains(line, "Data Source"):
			changeLog.bugs.dataSources = append(changeLog.bugs.dataSources, line)
		default:
			changeLog.bugs.general = append(changeLog.bugs.general, line)
		}
	default:
		return
	}
}
