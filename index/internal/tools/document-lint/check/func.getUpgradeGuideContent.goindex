package github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/check
import (
	"fmt"
	"log"
	"os"
	"path"
	"path/filepath"
	"sort"
	"strings"
	"sync"

	"github.com/fatih/color"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/md"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/model"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/schema"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/util"
)
func getUpgradeGuideContent() string {
	loadUpgradeGuideOnce.Do(func() {
		docsDir := md.DocDir()

		if upgradeFile := findUpgradeGuide(docsDir); upgradeFile != "" {
			if content, err := os.ReadFile(upgradeFile); err == nil {
				upgradeGuideContent = string(content)
				log.Printf("Loaded upgrade guide from: %s", upgradeFile)
				return
			}
		}

		log.Printf("Warning: Could not find any *-upgrade-guide.html.markdown file in docs directory: %s", docsDir)
		upgradeGuideContent = ""
	})

	return upgradeGuideContent
}
