package github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/check
import (
	"fmt"
	"strings"

	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/md"
)
func (c forceNewDiff) Fix(line string) (result string, err error) {
	switch c.ForceNew {
	case ShouldBeForceNew:
		line = strings.TrimRight(line, " ")
		if strings.HasSuffix(line, ",") {
			line = line[:len(line)-1] + "."
		} else if !strings.HasSuffix(line, ".") {
			line += "."
		}
		line += " Changing this forces a new resource to be created."
	case ShouldBeNotForceNew:
		line = md.ForceNewReg.ReplaceAllString(line, "")
	}
	return line, nil
}
