package github.com/hashicorp/terraform-provider-azurerm/internal/tools/main
import (
	"flag"
	"fmt"
	"log"
	"os"

	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/check"
)
func parseArgs() {
	fs := flag.NewFlagSet("azdoc-check", flag.ExitOnError)
	fs.StringVar(&resource, "resource", os.Getenv("ONLY_RESOURCE"), "a list of resource names to check")
	fs.StringVar(&skipResource, "skip-resource", os.Getenv("SKIP_RESOURCE"), "a list of resource names to skip the check")
	fs.StringVar(&service, "service", os.Getenv("ONLY_SERVICE"), "a list of services names to check")
	fs.StringVar(&skipService, "skip-service", os.Getenv("SKIP_SERVICE"), "a list of service names to skip the check")

	fs.Usage = func() {
		printHelp()
		fs.PrintDefaults()
		os.Exit(0)
	}

	if len(os.Args) > 1 {
		cmd = os.Args[1]
		switch cmd {
		case "check":
			_ = fs.Parse(os.Args[2:])
		case "fix":
			dryRun = false
			_ = fs.Parse(os.Args[2:])
		default:
			fs.Usage()
		}
	}
}
