package github.com/hashicorp/terraform-provider-azurerm/internal/tools/main
import (
	"flag"
	"fmt"
	"log"
	"os"

	"github.com/hashicorp/terraform-provider-azurerm/internal/tools/document-lint/check"
)
func main() {
	parseArgs()

	result := check.DiffAll(check.AzurermAllResources(service, skipService, resource, skipResource), dryRun)
	if !result.HasDiff() {
		log.Printf("document linter runs success, time costs: %v", result.CostTime())
		return
	}

	log.Printf("%s\n", result.ToString())

	if cmd == "fix" {
		if err := result.FixDocuments(); err != nil {
			log.Fatalf("error occurs when trying to fix documents: %v", err)
		}
	}
	os.Exit(1)
}
