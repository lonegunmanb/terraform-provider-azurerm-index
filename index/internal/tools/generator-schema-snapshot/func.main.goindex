package github.com/hashicorp/terraform-provider-azurerm/internal/tools/main
import (
	"fmt"
	"log"
	"os"

	"github.com/dave/jennifer/jen"
	"github.com/hashicorp/terraform-provider-azurerm/internal/provider"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tf/pluginsdk"
)
func main() {
	if len(os.Args) != 2 {
		log.Fatal("Usage: generator-schema-snapshot <reource_type>")
	}
	rt := os.Args[1]
	res, ok := provider.AzureProvider().ResourcesMap[rt]
	if !ok {
		log.Fatalf("unknown resource type %q", rt)
	}

	f := jen.NewFile("main")
	f.ImportName("github.com/hashicorp/terraform-provider-azurerm/internal/tf/pluginsdk", "")

	f.Var().Id("_").Op("=").Add(SchemaMap(res.Schema))

	fmt.Printf("%#v", f)
}
