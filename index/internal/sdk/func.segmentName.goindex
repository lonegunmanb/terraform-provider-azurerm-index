package github.com/hashicorp/terraform-provider-azurerm/internal/sdk
import (
	"slices"
	"strings"

	"github.com/hashicorp/go-azure-helpers/resourcemanager/resourceids"
	"github.com/hashicorp/terraform-plugin-framework/resource/identityschema"
	"github.com/iancoleman/strcase"
)
func segmentName(segment resourceids.Segment, idType ResourceTypeForIdentity, numSegments, idx int) string {
	switch idType {
	case ResourceTypeForIdentityVirtual:
		return strcase.ToSnake(segment.Name)
	default:
		// For the last segment, if it's a `*Name` field, we generate it as `name` rather than snake casing the segment's name
		if (idx+1) == numSegments && strings.HasSuffix(segment.Name, "Name") {
			return "name"
		}
		return strcase.ToSnake(segment.Name)
	}
}
