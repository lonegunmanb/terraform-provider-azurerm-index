package github.com/hashicorp/terraform-provider-azurerm/internal/sdk
import (
	"slices"
	"strings"

	"github.com/hashicorp/go-azure-helpers/resourcemanager/resourceids"
	"github.com/hashicorp/terraform-plugin-framework/resource/identityschema"
	"github.com/iancoleman/strcase"
)
func GenerateIdentitySchema(id resourceids.ResourceId, idType ResourceTypeForIdentity) identityschema.Schema {
	idSchema := identityschema.Schema{
		Attributes: map[string]identityschema.Attribute{},
	}

	segments := id.Segments()
	numSegments := len(segments)
	for idx, segment := range segments {
		if segmentTypeSupported(segment.Type) {
			name := segmentName(segment, idType, numSegments, idx)
			idSchema.Attributes[name] = identityschema.StringAttribute{
				RequiredForImport: true,
			}
		}
	}

	return idSchema
}
