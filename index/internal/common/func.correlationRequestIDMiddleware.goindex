package github.com/hashicorp/terraform-provider-azurerm/internal/common
import (
	"log"
	"net/http"
	"net/http/httputil"

	"github.com/hashicorp/go-azure-sdk/sdk/client"
)
func correlationRequestIDMiddleware(id string) client.RequestMiddleware {
	return func(request *http.Request) (*http.Request, error) {
		// ensure the `X-Correlation-ID` field is set
		if request.Header.Get(HeaderCorrelationRequestID) == "" {
			request.Header.Add(HeaderCorrelationRequestID, id)
		}
		return request, nil
	}
}
