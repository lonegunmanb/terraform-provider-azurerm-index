package github.com/hashicorp/terraform-provider-azurerm/internal/services/compute
import (
	"context"
	"fmt"
	"log"
	"strings"

	"github.com/hashicorp/go-azure-helpers/lang/pointer"
	"github.com/hashicorp/go-azure-sdk/resource-manager/compute/2024-03-01/virtualmachinescalesetrollingupgrades"
	"github.com/hashicorp/go-azure-sdk/resource-manager/compute/2024-03-01/virtualmachinescalesetvms"
	"github.com/hashicorp/go-azure-sdk/resource-manager/compute/2024-11-01/virtualmachinescalesets"
	"github.com/hashicorp/terraform-provider-azurerm/internal/services/compute/client"
)
func isUsingLatestImage(update virtualmachinescalesets.VirtualMachineScaleSetUpdate) bool {
	if update.Properties.VirtualMachineProfile.StorageProfile == nil ||
		update.Properties.VirtualMachineProfile.StorageProfile.ImageReference == nil ||
		update.Properties.VirtualMachineProfile.StorageProfile.ImageReference.Version == nil {
		return false
	}
	if strings.EqualFold(*update.Properties.VirtualMachineProfile.StorageProfile.ImageReference.Version, "latest") {
		return true
	}
	return false
}
