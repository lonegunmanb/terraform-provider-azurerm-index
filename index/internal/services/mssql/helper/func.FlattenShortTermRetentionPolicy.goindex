package github.com/hashicorp/terraform-provider-azurerm/internal/services/mssql/helper
import (
	"github.com/hashicorp/go-azure-helpers/lang/pointer"
	"github.com/hashicorp/go-azure-sdk/resource-manager/sql/2023-08-01-preview/backupshorttermretentionpolicies"
	"github.com/hashicorp/go-azure-sdk/resource-manager/sql/2023-08-01-preview/longtermretentionpolicies"
	"github.com/hashicorp/terraform-provider-azurerm/helpers/validate"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tf/pluginsdk"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tf/validation"
)
func FlattenShortTermRetentionPolicy(input *backupshorttermretentionpolicies.BackupShortTermRetentionPolicy) []interface{} {
	result := make([]interface{}, 0)

	if input == nil {
		return result
	}

	output := map[string]interface{}{}

	output["retention_days"] = int64(7)
	if input.Properties.RetentionDays != nil {
		output["retention_days"] = pointer.From(input.Properties.RetentionDays)
	}

	if input.Properties.DiffBackupIntervalInHours != nil {
		output["backup_interval_in_hours"] = pointer.From(input.Properties.DiffBackupIntervalInHours)
	}

	result = append(result, output)

	return result
}
