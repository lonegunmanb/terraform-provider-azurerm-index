package github.com/hashicorp/terraform-provider-azurerm/internal/services/containerapps/helpers
import (
	"strings"

	"github.com/hashicorp/go-azure-helpers/lang/pointer"
	"github.com/hashicorp/go-azure-sdk/resource-manager/containerapps/2024-03-01/managedenvironments"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tf/pluginsdk"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tf/validation"
)
func ExpandWorkloadProfiles(input []WorkloadProfileModel) *[]managedenvironments.WorkloadProfile {
	if len(input) == 0 {
		return nil
	}

	result := make([]managedenvironments.WorkloadProfile, 0)

	for _, v := range input {
		r := managedenvironments.WorkloadProfile{
			Name: v.Name,
		}

		if v.Name != string(WorkloadProfileSkuConsumption) {
			r.WorkloadProfileType = v.WorkloadProfileType
			r.MaximumCount = pointer.To(v.MaximumCount)
			r.MinimumCount = pointer.To(v.MinimumCount)
		} else {
			r.WorkloadProfileType = string(WorkloadProfileSkuConsumption)
		}

		result = append(result, r)
	}

	return &result
}
