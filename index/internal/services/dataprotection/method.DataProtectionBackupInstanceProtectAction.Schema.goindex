package github.com/hashicorp/terraform-provider-azurerm/internal/services/dataprotection
import (
	"context"
	"fmt"
	"time"

	"github.com/hashicorp/go-azure-helpers/framework/typehelpers"
	"github.com/hashicorp/go-azure-sdk/resource-manager/dataprotection/2025-09-01/backupinstanceresources"
	"github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
	"github.com/hashicorp/terraform-plugin-framework/action"
	"github.com/hashicorp/terraform-plugin-framework/action/schema"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/hashicorp/terraform-provider-azurerm/internal/sdk"
)
func (v *DataProtectionBackupInstanceProtectAction) Schema(_ context.Context, _ action.SchemaRequest, response *action.SchemaResponse) {
	response.Schema = schema.Schema{
		Attributes: map[string]schema.Attribute{
			"backup_instance_id": schema.StringAttribute{
				Required:            true,
				Description:         "The ID of the backup instance on which to perform the action.",
				MarkdownDescription: "The ID of the backup instance on which to perform the action.",
				Validators: []validator.String{
					typehelpers.WrappedStringValidator{
						Func: backupinstanceresources.ValidateBackupInstanceID,
					},
				},
			},

			"protect_action": schema.StringAttribute{
				Required:            true,
				Description:         "The protect state action to take on this backup instance. Possible values include `stop_protection`,`resume_protection`, `suspend_backups`, and `resume_backups`.",
				MarkdownDescription: "The protect state action to take on this backup instance. Possible values include `stop_protection`,`resume_protection`, `suspend_backups`, and `resume_backups`.",
				Validators: []validator.String{
					stringvalidator.OneOf(
						StopProtection,
						ResumeProtection,
						SuspendBackups,
						ResumeBackups,
					),
				},
			},
		},
	}
}
