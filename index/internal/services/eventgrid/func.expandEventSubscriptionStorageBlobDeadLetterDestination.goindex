package github.com/hashicorp/terraform-provider-azurerm/internal/services/eventgrid
import (
	"fmt"
	"strings"

	"github.com/hashicorp/go-azure-helpers/lang/pointer"
	"github.com/hashicorp/go-azure-sdk/resource-manager/eventgrid/2022-06-15/eventsubscriptions"
	"github.com/hashicorp/terraform-provider-azurerm/internal/tf/pluginsdk"
	"github.com/hashicorp/terraform-provider-azurerm/utils"
)
func expandEventSubscriptionStorageBlobDeadLetterDestination(d *pluginsdk.ResourceData) eventsubscriptions.DeadLetterDestination {
	if v, ok := d.GetOk("storage_blob_dead_letter_destination"); ok {
		dest := v.([]interface{})[0].(map[string]interface{})
		resourceId := dest["storage_account_id"].(string)
		blobName := dest["storage_blob_container_name"].(string)
		return eventsubscriptions.StorageBlobDeadLetterDestination{
			Properties: &eventsubscriptions.StorageBlobDeadLetterDestinationProperties{
				ResourceId:        &resourceId,
				BlobContainerName: &blobName,
			},
		}
	}

	return nil
}
