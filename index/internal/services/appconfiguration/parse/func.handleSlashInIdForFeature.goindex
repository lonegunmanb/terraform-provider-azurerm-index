package github.com/hashicorp/terraform-provider-azurerm/internal/services/appconfiguration/parse
import (
	"fmt"
	"net/url"
	"regexp"
	"strings"

	"github.com/hashicorp/go-azure-helpers/resourcemanager/resourceids"
)
func handleSlashInIdForFeature(input string) string {
	oldNames := regexp.MustCompile(`AppConfigurationFeature\/(.+)\/Label\/`).FindStringSubmatch(input)
	if len(oldNames) == 2 {
		input = strings.Replace(input, oldNames[1], url.QueryEscape(oldNames[1]), 1)
	}

	oldNames = regexp.MustCompile(`AppConfigurationFeature\/.+\/Label\/(.+)`).FindStringSubmatch(input)

	// Label will have a "%00" placeholder if we're dealing with an empty label,
	if len(oldNames) == 2 && oldNames[1] != "%00" {
		input = strings.Replace(input, oldNames[1], url.QueryEscape(oldNames[1]), 1)
	}

	return input
}
