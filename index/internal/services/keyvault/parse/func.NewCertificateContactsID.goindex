package github.com/hashicorp/terraform-provider-azurerm/internal/services/keyvault/parse
import (
	"fmt"
	"net/url"
	"strings"
)
func NewCertificateContactsID(keyVaultBaseUrl string) (*CertificateContactsId, error) {
	// example: https://example-keyvault.vault.azure.net/certificates/contacts
	keyVaultUrl, err := url.Parse(keyVaultBaseUrl)
	if err != nil || keyVaultBaseUrl == "" {
		return nil, fmt.Errorf("parsing %q: %+v", keyVaultBaseUrl, err)
	}

	if hostParts := strings.Split(keyVaultUrl.Host, ":"); len(hostParts) > 1 {
		keyVaultUrl.Host = hostParts[0]
	}

	return &CertificateContactsId{
		KeyVaultBaseUrl: keyVaultUrl.String(),
	}, nil
}
