package github.com/hashicorp/terraform-provider-azurerm/internal/services/desktopvirtualization/parse
import (
	"fmt"
	"strings"

	"github.com/hashicorp/go-azure-helpers/resourcemanager/resourceids"
	"github.com/hashicorp/go-azure-sdk/resource-manager/desktopvirtualization/2024-04-03/scalingplan"
)
func ScalingPlanHostPoolAssociationID(input string) (*ScalingPlanHostPoolAssociationId, error) {
	segments := strings.Split(input, "|")
	if len(segments) != 2 {
		return nil, fmt.Errorf("expected an ID in the format {scalingplanID}|{hostPoolID} but got %q", input)
	}

	scalingplanId, err := scalingplan.ParseScalingPlanID(segments[0])
	if err != nil {
		return nil, fmt.Errorf("parsing Scaling Plan ID for Scaling Plan/Host Pool Association %q: %+v", segments[0], err)
	}

	hostPoolId, err := scalingplan.ParseHostPoolID(segments[1])
	if err != nil {
		return nil, fmt.Errorf("parsing Host Pool ID for Scaling Plan/Host Pool Association %q: %+v", segments[1], err)
	}

	return &ScalingPlanHostPoolAssociationId{
		ScalingPlan: *scalingplanId,
		HostPool:    *hostPoolId,
	}, nil
}
